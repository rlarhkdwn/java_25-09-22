package day18;

import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

public class Account {
	private String accountNum;
	private int money;
	private List<String> transactions = new ArrayList<>();
	private String filePath;
	
	public Account(String accountNum, String owner) {
		this.accountNum = accountNum;
		this.filePath = "D:\\web_0826_kkj\\memo\\" + owner + "\\" + accountNum + ".txt";
	}
	
	public void print() {
		System.out.println("계좌번호 : " + accountNum + ", 잔액 : " + money);
	}
	
	public void printTranscations() {
		for (String s : transactions) {
			System.out.println(s);
		}
	}
	
	public void plusMoney(int money) {
		this.money += money;
		transactions.add("입금 : " + money + ", 현재 금액 : " + this.money);
	}
	
	public void minusMoney(int money) {
		this.money = Math.max(this.money - money, 0);
		transactions.add("출금 : " + money + ", 현재 금액 : " + this.money);
	}
	
	public void sendMoney(String src, String dst, int money) {
		this.money = Math.max(this.money - money, 0);
		transactions.add("송금[" + src + " -> " + dst + "] : " + money + ", 현재 금액 : " + this.money);
	}
	
	public void receiveMoney(String src, String dst, int money) {
		this.money += money;
		transactions.add("송금[" + dst + " <= " + src + "] : " + money + ", 현재 금액 : " + this.money);
	}
	
	public String getAccountNum() {
		return accountNum;
	}

	public void setAccountNum(String accountNum) {
		this.accountNum = accountNum;
	}

	public int getMoney() {
		return money;
	}

	public void setMoney(int money) {
		this.money = money;
	}

	public List<String> getTransactions() {
		return transactions;
	}

	public void setTransactions(List<String> transactions) {
		this.transactions = transactions;
	}
	
	@Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (!(obj instanceof Account)) return false;
        Account other = (Account) obj;
        return Objects.equals(this.accountNum, other.accountNum);
    }
	
	@Override
    public int hashCode() {
        return Objects.hash(accountNum);
    }
	
}
