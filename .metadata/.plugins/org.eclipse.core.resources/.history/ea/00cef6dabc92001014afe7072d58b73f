package day16;

import java.util.ArrayList;
import java.util.List;

public class Stream02 {

	public static void main(String[] args) {
		// Stream(스트림)
		// 자료구조를 복사하여 스트림 객체로 생성
		// 스트림을 이용한 연산을 수행
		// 연산을 수행한 스트림은 소모됨
		// 스트림은 기존 자료를 변경할 수 없음
		// 메서드 체이닝 방식을 사용
		//
		// 중간 연산 / 최종 연산
		//
		// 최종 연산 : 마지막에 하나만
		// firEacgh() : 리스트 내를 순회하며 요소의 값을 얻어서 구성
		// finFrist() : 조건에 일치하는 요소중 가장 앞에 있는 요소 리턴
		// findAny() : 조건에 일치하는 요소중 가장 먼저 탐색되는 요소 리턴
		// anyMatch() : 조건에 맞는 요소가 하나라도 있다면 true
		// allMatch() : 조건에 모든 요소가 맞다면 true
		// noneMatch() : 조건에 맞는 요소가 없다면 false
		// count(), min(), max() : 개수, 작은값, 큰값을 리턴
		// sum(), average() : 요소의 합계, 요소의 편균을 리턴
		// collect() : 스트림내의 요소를 수집하여 사용자가 원하는 형태로 반환
		// toArray() : 배열로 리턴
		// toList() : 리스트로 리턴
		// 
		// 중간 연산 : 중간에 이어서 사용(중복 사용가능)
		// filter() : 조건에 맞는 결과값을 필터링
		// distinct() : 중복된 값 제거
		// map() : 요소의 값을 원하는 값으로 변환 (주로 형변환)
		// sorted() : 정렬
		// peek() : 작업을 수행 후 스트림 리턴
		// skip() : 스트림의 일부를 건너 뜀.
		// limit() : 스트림의 일부를 잘라냄
		
		ArrayList<Integer> list = new ArrayList<>();
		
		for(int i = 0; i < 10; i++) {
			list.add((int)(Math.random() * 10) + 1);
		}
		System.out.println(list);
		
		list.stream().forEach(n -> System.out.println(n));
		
		System.out.println("================");
		// 중복제거 => 출력
		list.stream().distinct().forEach(n -> System.out.print(n + " "));
		System.out.println();
		
		System.out.println("================");
		// 정렬, 중복제거 => 출력
		list.stream().sorted().distinct().forEach(n -> System.out.println(n));
		
		// 중복제거 후 합계
		int sum = list.stream().distinct().mapToInt(n -> n.intValue()).sum();
		System.out.println(sum);
		
		
	}

}
